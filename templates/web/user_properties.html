
{% extends 'base/web-base.html' %}
{% load static %}
{% block container %}
{% include 'includes/header.html' %}
 
    
    
<div class="container mx-auto p-4 mt-10">
    <h1 class="text-2xl font-bold text-center mb-6">My Properties</h1>

    {% if properties %}
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
        {% for property in properties %}
        <div class="border border-gray-300 rounded-md shadow-lg hover:shadow-xl transition-shadow duration-300">
            <!-- Property Image -->
            <img src="{{ property.mainphoto.url }}" alt="{{ property.title }}" class="w-full h-48 object-cover rounded-t-md">
            
            <!-- Property Details -->
            <div class="p-4">
                <h2 class="text-lg font-bold text-gray-800 truncate">{{ property.title }}</h2>
                <p class="text-gray-600 mb-2"><strong>Location:</strong> {{ property.location.name }}</p>
                <p class="text-blue-600 font-bold text-xl mb-4">â‚¹{{ property.price|floatformat:2 }}</p>
                <div class="flex items-center justify-between">
                    <!-- Status Badge -->
                    <span class="px-3 py-1 text-sm rounded-full mb-3 
                        {% if property.is_active %}
                            bg-green-100 text-green-600
                        {% else %}
                            bg-red-100 text-red-600
                        {% endif %}">
                        {% if property.is_active %} Active {% else %} Inactive {% endif %}
                    </span>
                    <!-- Edit and Delete Buttons -->
                    <div class="flex gap-2">
                        <!-- <a href="" class="text-blue-500 hover:underline">Edit</a> -->
                        <a href="{% url 'web:delete_property' id=property.id %}" class="text-red-500 hover:underline">Delete</a>
                    </div>
                </div>
                <a 
                    href="{% url 'web:mark_active' id=property.id %}"
                    class="px-3 py-1 text-sm rounded-full
                        {% if property.is_active %}
                            bg-green-600 text-white hover:bg-green-700  
                        {% else %}
                            bg-gray-600 text-white hover:bg-gray-700
                        {% endif %}">
                    {% if property.is_active %} Mark Inactive {% else %} Mark Active {% endif %}
                </a>
            </div>
        </div>
        {% endfor %}
    </div>
    {% else %}
    <p class="text-center text-gray-600">No properties listed yet. Start adding your properties!</p>
    {% endif %}
</div>




{% endblock %}
